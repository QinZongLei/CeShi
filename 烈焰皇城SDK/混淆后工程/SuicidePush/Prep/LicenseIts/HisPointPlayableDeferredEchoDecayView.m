
#import "NSString+Scruffy.h"








#import "HisPointPlayableDeferredEchoDecayView.h"
#import "LateShowAcuteManager.h"
#import "RepeatOrangeLooperObservingInterior.h"

@interface HisPointPlayableDeferredEchoDecayView()
@property (nonatomic, strong) UIButton *hallCert;
@property (nonatomic, strong) NoteIcyFemaleThermalBitsCascadeView *ouncesBlob;
@property (nonatomic, strong) NoteIcyFemaleThermalBitsCascadeView *manyCocoa;
@property (nonatomic, strong) NoteIcyFemaleThermalBitsCascadeView *guaraniAllowBarsFolderParse;
@property (nonatomic, strong) UIButton *catalogCode;
@property (nonatomic, strong) UIButton *builtEventOwn;
@end

@implementation HisPointPlayableDeferredEchoDecayView

- (instancetype)initWithFrame:(CGRect)frame
{
    self = [super initWithFrame:frame];
    if (self) {
        [self  uniformProtocolsUnableLocalFilmProgress];
        [self scrollingPanPoliciesFocusesOverFemaleView];
    }
    return self;
}

-(void)uniformProtocolsUnableLocalFilmProgress{
    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(dogLastLessKinRotate:) name:UIApplicationDidChangeStatusBarFrameNotification object:nil];
}

-(void)scrollingPanPoliciesFocusesOverFemaleView{
    self.whoDivide = updatePwdBgImgV;
   
    
    [self.butArmour addSubview:({
        self.hallCert = [UIButton buttonWithType:UIButtonTypeCustom];
        self.hallCert.frame = CGRectMake(self.butArmour.width -kWidth(40), kWidth(35), kWidth(35), kWidth(35));
        self.hallCert.tag = 20211201;
        [self.hallCert setImage:kSetBundleImage(backBtn) forState:UIControlStateNormal];
        [self.hallCert addTarget:self action:@selector(findWayPanAction:) forControlEvents:UIControlEventTouchUpInside];
        self.hallCert;
    })];
    
    [self.butArmour addSubview:({
        self.ouncesBlob =[[NoteIcyFemaleThermalBitsCascadeView alloc] initWithFrame:CGRectMake((self.butArmour.width-kWidth(300))/2, self.moodSee.bottom+kWidth(20), kWidth(300), kWidth(35))];
        self.ouncesBlob.overPath = kSetBundleImage(inputPhoneIcon);
        self.ouncesBlob.redSpellItsNap = @"6K+36L6T5YWl5omL5py65Y+356CB".relishKhaki;
        self.ouncesBlob.hangRecentWrap = @"5omL5py65Y+3Og==".relishKhaki;

        self.ouncesBlob;
    })];
    
    [self.butArmour addSubview:({
        self.manyCocoa =[[NoteIcyFemaleThermalBitsCascadeView alloc] initWithFrame:CGRectMake(self.ouncesBlob.left, self.ouncesBlob.bottom+kWidth(10), kWidth(300), kWidth(35))];
        //添加获取验证码按钮
        self.manyCocoa.overPath = kSetBundleImage(InputPhoneCodeIcon);
        self.manyCocoa.hangRecentWrap = @"6aqM6K+B56CBOg==".relishKhaki;
        self.catalogCode = [UIButton buttonWithType:UIButtonTypeCustom];
        [self.catalogCode setTitle:@"6I635Y+W6aqM6K+B56CB".relishKhaki forState:UIControlStateNormal];
        [self.catalogCode setTitleColor:color_getcode forState:0];
        self.catalogCode.titleLabel.font = [UIFont systemFontOfSize:kWidth(14)];
        self.catalogCode.tag = 20211205;
        self.catalogCode.frame = CGRectMake(self.manyCocoa.butArmour.width-kWidth(80),0, kWidth(75), kWidth(25));
        self.catalogCode.centerY = self.manyCocoa.butArmour.centerY;
        [self.catalogCode addTarget:self action:@selector(askPanSliderAction:) forControlEvents:UIControlEventTouchUpInside];
        self.manyCocoa.inventory = self.catalogCode;
        self.manyCocoa.redSpellItsNap = @"6K+36L6T5YWl6aqM6K+B56CB".relishKhaki;
        self.manyCocoa;
    })];
    
    [self.butArmour addSubview:({
        self.guaraniAllowBarsFolderParse =[[NoteIcyFemaleThermalBitsCascadeView alloc] initWithFrame:CGRectMake(self.ouncesBlob.left, self.manyCocoa.bottom+kWidth(10), kWidth(300), kWidth(35))];
        self.guaraniAllowBarsFolderParse.overPath = kSetBundleImage(inputPwdIcon);
        self.guaraniAllowBarsFolderParse.redSpellItsNap = @"6K+36L6T5YWl6ZyA6KaB6K6+572u55qE5a+G56CB".relishKhaki;
        self.guaraniAllowBarsFolderParse.hangRecentWrap = @"5paw5a+G56CBOg==".relishKhaki;

        self.guaraniAllowBarsFolderParse;
    })];
    
    [self.butArmour addSubview:({
        self.builtEventOwn = [UIButton buttonWithType:UIButtonTypeCustom];
        self.builtEventOwn.frame = CGRectMake((self.butArmour.width-kWidth(150))/2, self.guaraniAllowBarsFolderParse.bottom+kWidth(20), kWidth(180), kWidth(40));

        self.builtEventOwn.tag = 20211202;
        [self.builtEventOwn setBackgroundImage:kSetBundleImage(determineBtn) forState:UIControlStateNormal];
        self.builtEventOwn.imageView.contentMode = UIViewContentModeScaleAspectFit;
        [self.builtEventOwn addTarget:self action:@selector(shotDeepPhraseAction:) forControlEvents:UIControlEventTouchUpInside];
        self.builtEventOwn;
    })];
}

- (void)findWayPanAction:(UIButton *)sender {
    //返回
    dispatch_async(dispatch_get_main_queue(), ^{
        [HitTypeLogHashManager projectPushBitPresetInterruptWonView];
        [self removeFromSuperview];
    });
}

- (void)shotDeepPhraseAction:(UIButton *)sender {
    //修改密码。调用接口
    [self wrongProvinceProvinceTrapActionMaster];
}

- (void)askPanSliderAction:(UIButton *)sender {
        //获取验证码
        [self endEditing:YES];
        [self incrementOldCode:sender];
}

-(void)incrementOldCode:(UIButton *)sender{
    NSString *hexIssue = [self.ouncesBlob.mayPaper.text stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceCharacterSet]];
    if (![RecoveredWarpPreservesSlavicIntegral foldAskReversingTwitterRenewing:hexIssue]) {
        [DryTapSafeToast  alienEndsCenter:@"6K+36L6T5YWl5q2j56Gu55qE5omL5py65Y+377yB".relishKhaki location:@"Y2VudGVy".relishKhaki formTime:2.5];
        return;
    }
    sender.enabled = NO;

    [LateShowAcuteManager sobJoiningOurCode:hexIssue type:@"Z2V0X3Bob25lX2xvZ2luX2NvZGU=".relishKhaki stopBlock:^(BOOL status) {
        sender.enabled = YES;
        if (status) {
            dispatch_async(dispatch_get_main_queue(), ^{
                __block NSInteger timeLine = 60;
                __block NSInteger timeOut = timeLine;
                dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);
                dispatch_source_t _timer = dispatch_source_create(DISPATCH_SOURCE_TYPE_TIMER, 0, 0, queue);
                //每秒执行一次
                dispatch_source_set_timer(_timer, dispatch_walltime(NULL, 0), 1.0 * NSEC_PER_SEC, 0);
                dispatch_source_set_event_handler(_timer, ^{
                    //倒计时结束，关闭
                    if (timeOut <= 0) {
                        dispatch_source_cancel(_timer);
                        dispatch_async(dispatch_get_main_queue(), ^{
                            [self.catalogCode setTitle:@"6I635Y+W6aqM6K+B56CB".relishKhaki forState:UIControlStateNormal];
                            self.catalogCode.userInteractionEnabled = YES;
                        });
                    } else {
                        int allTime = (int)timeLine + 1;
                        int seconds = timeOut % allTime;
                        NSString *timeStr = [NSString stringWithFormat:@"JTAuMmRz5ZCO6YeN5Y+R".relishKhaki, seconds];
                        dispatch_async(dispatch_get_main_queue(), ^{
                            [self.catalogCode setTitle:[NSString stringWithFormat:@"JUA=".relishKhaki,timeStr] forState:UIControlStateNormal];
                            self.catalogCode.userInteractionEnabled = NO;
                        });
                        timeOut--;
                    }
                });
                dispatch_resume(_timer);
            });
        }
    }];
}


-(void)wrongProvinceProvinceTrapActionMaster{
    NSString *hexIssue =  [self.ouncesBlob.mayPaper.text stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceCharacterSet]];
    NSString *italian =  [self.manyCocoa.mayPaper.text stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceCharacterSet]];
    NSString *moveClimbed = [self.guaraniAllowBarsFolderParse.mayPaper.text stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceCharacterSet]];
    
    if (moveClimbed.length <6) {
        [DryTapSafeToast warnToast:@"5a+G56CB6ZW/5bqm5LiN6IO95L2O5LqO5YWt5L2N5pWw77yB".relishKhaki location:@"Y2VudGVy".relishKhaki formTime:2.5];
        return;
    }
    
    if (![RecoveredWarpPreservesSlavicIntegral foldAskReversingTwitterRenewing:hexIssue]) {
        [DryTapSafeToast  alienEndsCenter:@"6K+36L6T5YWl5q2j56Gu55qE5omL5py65Y+377yB".relishKhaki location:@"Y2VudGVy".relishKhaki formTime:2.5];
        return;
    }
  
   
    if (italian.length <4) {
        [DryTapSafeToast warnToast:@"6K+36L6T5YWl5q2j56Gu55qE6aqM6K+B56CB".relishKhaki location:@"Y2VudGVy".relishKhaki formTime:2.5f];
         return;
    }
    
    NSString * newPwdErrorStr =[RecoveredWarpPreservesSlavicIntegral thirdInsetExpiredEjectWriteFitText:moveClimbed];
    if (newPwdErrorStr != nil) {
        [DryTapSafeToast warnToast:[NSString stringWithFormat:@"JUAlQA==".relishKhaki,@"5a+G56CB".relishKhaki,newPwdErrorStr] location:@"Y2VudGVy".relishKhaki formTime:2.5f];
        return;
    }
    NSString *fixQuitBus = [[RepeatOrangeLooperObservingInterior manager].userInfo objectForKey:@"dXNlcl9uYW1l".relishKhaki];
    
    [LateShowAcuteManager launchNumeratorAmericanOptThickExpensiveCode:fixQuitBus hexIssue:hexIssue blinkCode:italian stopBlock:^(BOOL status) {
       
        if (status) {
           
            [LateShowAcuteManager assumeEntity:fixQuitBus digitFit:hexIssue adapter:italian picturesMix:moveClimbed stopBlock:^(BOOL status) {
                if (status) {
                    //跳转到登陆界面
                    dispatch_async(dispatch_get_main_queue(), ^{
                        //缓存
                        [RepeatOrangeLooperObservingInterior cellPagerFlowBatteryBadGroup:fixQuitBus password:moveClimbed type:@"1"];
                        //保存登陆方式以及登陆时间
                        NSUserDefaults *wayforlogin = [NSUserDefaults standardUserDefaults];
                        [wayforlogin setObject:@"YWNvdW50d2F5".relishKhaki forKey:@"bG9naW53YXk=".relishKhaki];
                        NSString *timelogin= [RecoveredWarpPreservesSlavicIntegral tagPortraitsTimeReasonForce];
                        NSUserDefaults *timeoutstr = [NSUserDefaults standardUserDefaults];
                        [timeoutstr setValue:timelogin forKey:@"dGltZW91dGZvcmFjb3VudA==".relishKhaki];
                        
                        [HitTypeLogHashManager cancelRetainPlateDomainStatementView];
                        [self removeFromSuperview];
                    });
                }
            }];
            
        }
        
    }];
    
    
}


- (void)dogLastLessKinRotate:(NSNotification *)notice {
    [self setNeedsLayout];
    [self scrollingPanPoliciesFocusesOverFemaleView];
}
@end
