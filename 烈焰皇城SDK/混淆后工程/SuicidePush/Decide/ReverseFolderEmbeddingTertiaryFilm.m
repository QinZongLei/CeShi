
#import "NSString+Scruffy.h"








#import "ReverseFolderEmbeddingTertiaryFilm.h"
#import <AppTrackingTransparency/AppTrackingTransparency.h>
#import <AdSupport/ASIdentifierManager.h>
#import "RepeatOrangeLooperObservingInterior.h"
#import "AloneSplatNetwork.h"
#import "HitTypeLogHashManager.h"
#import "LateShowAcuteManager.h"
#import "IllGreekLeakyManager.h"


@interface ReverseFolderEmbeddingTertiaryFilm ()




@property (nonatomic, strong) dispatch_source_t timer;

@end

@implementation ReverseFolderEmbeddingTertiaryFilm

+ (instancetype)sharedInstance {
    static ReverseFolderEmbeddingTertiaryFilm *_instance = nil;
    static dispatch_once_t onceToken;
    dispatch_once(&onceToken, ^{
        _instance = [[super allocWithZone:NULL] init];
    });
    return _instance;
}

+ (instancetype)allocWithZone:(struct _NSZone *)zone {
    return [self sharedInstance];
}

- (id)copyWithZone:(NSZone *)zone {
    
    return self;
    
}

- (id)mutableCopyWithZone:(NSZone *)zone {
    return self;
}


void SDKIDFA(UIApplication * application){
    if (@available(iOS 14.5, *)) {
           
           [ATTrackingManager requestTrackingAuthorizationWithCompletionHandler:^(ATTrackingManagerAuthorizationStatus status) {
               
               switch (status) {
                   case ATTrackingManagerAuthorizationStatusNotDetermined:
                       
                       break;
                   case ATTrackingManagerAuthorizationStatusRestricted:
                       
                       break;
                   case ATTrackingManagerAuthorizationStatusDenied:
                       
                       break;
                   case ATTrackingManagerAuthorizationStatusAuthorized:
                       break;
               }
           }];
       }
       else
       {
           if ([[ASIdentifierManager sharedManager] isAdvertisingTrackingEnabled]) {
               NSString *idfas = [[ASIdentifierManager sharedManager].advertisingIdentifier UUIDString];
               
           } else {
          
           }
       }
}


void STARTINIT(void(^HANDLE)(BOOL status, NSString *msg,NSString *isAudit)){
    [ReverseFolderEmbeddingTertiaryFilm sharedInstance].swappedBin = HANDLE;
    if(kDictNotNull([RepeatOrangeLooperObservingInterior manager].hitInfo)){
        if(HANDLE){
            NSString * isAudit = [[RepeatOrangeLooperObservingInterior manager].hitInfo objectForKey:@"aXNBdWRpdA==".relishKhaki];
            HANDLE(YES,@"5Yid5aeL5YyW5oiQ5Yqf".relishKhaki,isAudit);
        }
        return;
    }
    [LateShowAcuteManager optimizedSaw];
}



void STARTLOGIN(void(^fatalWhoHit)(BOOL status, NSString *msg, NSDictionary *data) ,void(^leftLocation)(BOOL status, NSString *msg)){
    [ReverseFolderEmbeddingTertiaryFilm sharedInstance].fatalWhoHit = fatalWhoHit;
    [ReverseFolderEmbeddingTertiaryFilm sharedInstance].leftLocation = leftLocation;
    
    //如果初始化参数为空，再次初始化
    if(!kDictNotNull([RepeatOrangeLooperObservingInterior manager].hitInfo)){
        if([ReverseFolderEmbeddingTertiaryFilm sharedInstance].swappedBin){
            STARTINIT([ReverseFolderEmbeddingTertiaryFilm sharedInstance].swappedBin);
            return;
        }
        [DryTapSafeToast warnToast:@"U0RLIOacquWIneWni+WMlu+8gQ==".relishKhaki location:@"Y2VudGVy".relishKhaki formTime:2.5];
        return;
    }
    
    [HitTypeLogHashManager squaredEuropeanBetterYetScopeConjugate:^(NSDictionary * _Nonnull loginData) {
        
        [RepeatOrangeLooperObservingInterior.manager tabHerNoticeInfo:loginData];
        //封装登陆数据返回给cp
        NSMutableDictionary *tempData = [NSMutableDictionary new];
        if (kDictNotNull(loginData)) {
            [tempData setValue:kGameId forKey:@"YXBwaWQ=".relishKhaki];
            [tempData setValue:[loginData valueForKey:@"c2lk".relishKhaki] forKey:@"dG9rZW4=".relishKhaki];
            [tempData setValue:[loginData valueForKey:@"dWlk".relishKhaki] forKey:@"dWlk".relishKhaki];
            [tempData setValue:[loginData valueForKey:@"dXNlcl9uYW1l".relishKhaki] forKey:@"dXNlcm5hbWU=".relishKhaki];
            [tempData setValue:[RecoveredWarpPreservesSlavicIntegral tagPortraitsTimeReasonForce] forKey:@"dGltZQ==".relishKhaki];
        }
        if (fatalWhoHit) {
            fatalWhoHit(YES,@"U3VjY2Vzcw==".relishKhaki,tempData);
        }
        //弹出登录成功欢迎界面
        [HitTypeLogHashManager prominentOurPassExcludedCorruptView];
        
        //处理掉单问题
        [IllGreekLeakyManager trapBeatScriptsMaskAgent];
    
        //拉取好评
        [LateShowAcuteManager postDayPlateCompressArmour:loginData];
        //启动心跳
        NSString *heartBeat  = [[RepeatOrangeLooperObservingInterior manager].userInfo objectForKey:@"aGVhcnRfYmVhdA==".relishKhaki];
        if (heartBeat.intValue ==1) {
            [LateShowAcuteManager handshakeNoticeUnfocusedMoreParent];
        }
      
        //判断是否显示悬浮球
        [HitTypeLogHashManager foggyWasBedMenView];
        
       
        NSString *trueNameSwitchStr  = [[RepeatOrangeLooperObservingInterior manager].userInfo objectForKey:@"dHJ1ZU5hbWVTd2l0Y2g=".relishKhaki];
        NSString *fcm = [[RepeatOrangeLooperObservingInterior manager].userInfo objectForKey:@"ZmNt".relishKhaki];
        //判断是否弹出实名  1，弹出不可关闭实名。 2，弹出可以关闭实名。 0，不弹出实名
        if (![@"0" isEqualToString:trueNameSwitchStr]) {
            if(fcm.intValue == 0){
                //没有认证过的弹出来
                [HitTypeLogHashManager operateLockOverlapUndoReleaseCharView:trueNameSwitchStr];
            }else{
                //如果不实名直接弹出
                [HitTypeLogHashManager neutralCaloriesWirelessInterruptSerialView];
            }
        }else{
            //如果不实名直接弹出
            [HitTypeLogHashManager neutralCaloriesWirelessInterruptSerialView];
        }
    }];
    
}

void STARTUPLOAD(NSDictionary * dic,NSString * uploadType,void(^HANDLE)(BOOL status, NSString *msg)){
    if (!kDictNotNull([RepeatOrangeLooperObservingInterior manager].userInfo)) {
        [DryTapSafeToast warnToast:@"6LSm5Y+35pyq55m75b2V77yB".relishKhaki location:@"Y2VudGVy".relishKhaki formTime:2.5];
        return;
    }
    [LateShowAcuteManager renderCinematicFunkExposeLambda:uploadType params:dic stopBlock:^(BOOL status, NSString * _Nonnull msg) {
        HANDLE(status,msg);
    }];
}

void STARTCREATEORDER(NSDictionary * dic,void(^HANDLE)(BOOL status, NSString *msg)){
    if (!kDictNotNull([RepeatOrangeLooperObservingInterior manager].userInfo)) {
        [DryTapSafeToast warnToast:@"6LSm5Y+35pyq55m75b2V77yB".relishKhaki location:@"Y2VudGVy".relishKhaki formTime:2.5];
        return;
    }
    [LateShowAcuteManager delayedInputFocusStandardThird:dic stopBlock:^(BOOL status, NSString * _Nonnull msg) {
        HANDLE(status,msg);
    }];
    
}

void STARTLOGOUT(void(^HANDLE)(BOOL status, NSString *msg)){
    if (!kDictNotNull([RepeatOrangeLooperObservingInterior manager].userInfo)) {
        [DryTapSafeToast warnToast:@"6LSm5Y+35pyq55m75b2V77yB".relishKhaki location:@"Y2VudGVy".relishKhaki formTime:2.5];
        return;
    }
    //首先移除掉悬浮球
    [HitTypeLogHashManager installsOtherTriggerRearExpectingView];
    //移除礼包悬浮球
    [HitTypeLogHashManager flashRollTowerAsleepPrologProducerView];
    [LateShowAcuteManager cutWonClang:^(BOOL status) {
        if (status) {
            HANDLE(YES,@"6YCA5Ye65oiQ5Yqf77yB".relishKhaki);
        }
    }];
}

@end
